<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Provides access to higher level call's arguments (including ... dots arguments) without explicitly passing it through calling stack and allows updating default values that are explicitly set throughout calling stack (i.e., lower calls take prevalence)."><title>Provides access to arguments of nested functions. Sort of an alterative mechanism to passing ... arguments but with more features. — get_dots • nstandr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Provides access to arguments of nested functions. Sort of an alterative mechanism to passing ... arguments but with more features. — get_dots"><meta property="og:description" content="Provides access to higher level call's arguments (including ... dots arguments) without explicitly passing it through calling stack and allows updating default values that are explicitly set throughout calling stack (i.e., lower calls take prevalence)."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">nstandr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Provides access to arguments of nested functions. Sort of an alterative mechanism to passing <code>...</code> arguments but with more features.</h1>
      
      <div class="d-none name"><code>get_dots.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Provides access to higher level call's arguments (including <code>...</code> dots arguments) without explicitly passing it through calling stack and allows updating default values that are explicitly set throughout calling stack (i.e., lower calls take prevalence).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_dots</span><span class="op">(</span></span>
<span>  function_or_arg_list <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  select_args <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  search_calls_with_formals <span class="op">=</span> <span class="st">"..."</span>,</span>
<span>  search_calls_of_env <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  search_calls_regexp <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  search_depth <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  search_up_to_call <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  skip_checks_for_parent_call <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  eval_default_args <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  return_unlisted_if_single_arg <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>function_or_arg_list</dt>
<dd><p>The end function that meant to accept dots arguments (default arguments accessed with <code>formals(function_or_arg_list)</code>) or just explicit list of default dots arguments that will be searched up in calling stack and updated if set explicitly in higher calls. If set to NULL then use formals of the parent call (assessed with <code>sys.function(-1L)</code>).</p></dd>


<dt>select_args</dt>
<dd><p>Which arguments to select from <code>function_or_arg_list</code>. Ether character or numeric vector.</p></dd>


<dt>search_calls_with_formals</dt>
<dd><p>Formals (parameters, arguments) that should be present in each upper call to continue looking up the call stack for updates in dots arguments.</p></dd>


<dt>search_calls_of_env</dt>
<dd><p>Environment/package name (character string) to which each function in upper calls to should belong to continue looking up the call stack for updates in dots arguments.</p></dd>


<dt>search_calls_regexp</dt>
<dd><p>Regular expression that each function name in upper calls to should matched to continue looking up the call stack for updates in dots arguments.</p></dd>


<dt>search_depth</dt>
<dd><p>Number of frames (aka environments) down in calling stack to look up arguments.</p></dd>


<dt>search_up_to_call</dt>
<dd><p>The name of the call before which to continue looking up the call stack for updates in dots arguments.</p></dd>


<dt>skip_checks_for_parent_call</dt>
<dd><p>Whether to skip checking <code>search_calls_with_formals</code> <code>search_calls_of_env</code> <code>search_calls_regexp</code></p></dd>


<dt>eval_default_args</dt>
<dd><p>Whether to evaluate default arguments. Default is do not evaluate (FALSE) assuming that all argument are simple values (i.e., evaluates to itself)</p></dd>


<dt>return_unlisted_if_single_arg</dt>
<dd><p>Toggle wether unlist when returning a single argument. Default is TRUE</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>List of updated dots arguments</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Make get_dots available for following examples</span></span></span>
<span class="r-in"><span><span class="va">get_dots</span> <span class="op">&lt;-</span> <span class="fu">nstandr</span><span class="fu">:::</span><span class="va">get_dots</span></span></span>
<span class="r-in"><span><span class="co"># Basic usage</span></span></span>
<span class="r-in"><span><span class="va">util</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">foo</span> <span class="op">=</span> <span class="fl">0</span>, <span class="va">bar</span> <span class="op">=</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="co"># get dots and bind updated arguments into environment</span></span></span>
<span class="r-in"><span>    <span class="va">dots</span> <span class="op">&lt;-</span> <span class="fu">get_dots</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="kw">for</span> <span class="op">(</span><span class="va">v</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">dots</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/assign.html" class="external-link">assign</a></span><span class="op">(</span><span class="va">v</span>, <span class="va">dots</span><span class="op">[[</span><span class="va">v</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="co"># util just reports it arguments</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">"foo: "</span>, <span class="va">foo</span>, <span class="st">", bar: "</span>, <span class="va">bar</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">util</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> foo: 0, bar: 0</span>
<span class="r-in"><span><span class="co">#&gt; foo: 0, bar: 0</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">main</span> <span class="op">&lt;-</span> <span class="kw">function</span> <span class="op">(</span><span class="va">...</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="fu">util</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="fu">util</span><span class="op">(</span>foo <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> </span></span>
<span class="r-in"><span>    <span class="fu">util</span><span class="op">(</span>bar <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">main</span><span class="op">(</span>foo <span class="op">=</span> <span class="fl">2</span>, bar <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> foo: 2, bar: 2</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> foo: 1, bar: 2</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> foo: 2, bar: 1</span>
<span class="r-in"><span><span class="co">#&gt; foo: 2, bar: 2</span></span></span>
<span class="r-in"><span><span class="co">#&gt; foo: 1, bar: 2  # THIS WORKS NOW!</span></span></span>
<span class="r-in"><span><span class="co">#&gt; foo: 2, bar: 1  # THIS WORKS NOW!</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Usage in nested calls</span></span></span>
<span class="r-in"><span><span class="va">util</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">foo</span> <span class="op">=</span> <span class="fl">0</span>, <span class="va">bar</span> <span class="op">=</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="co"># get dots and bind updated arguments into environment</span></span></span>
<span class="r-in"><span>    <span class="va">dots</span> <span class="op">&lt;-</span> <span class="fu">get_dots</span><span class="op">(</span>search_depth <span class="op">=</span> <span class="fl">3L</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="kw">for</span> <span class="op">(</span><span class="va">v</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">dots</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/assign.html" class="external-link">assign</a></span><span class="op">(</span><span class="va">v</span>, <span class="va">dots</span><span class="op">[[</span><span class="va">v</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="co"># util just reports it arguments</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">"foo: "</span>, <span class="va">foo</span>, <span class="st">", bar: "</span>, <span class="va">bar</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">main</span> <span class="op">&lt;-</span> <span class="kw">function</span> <span class="op">(</span><span class="va">...</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="fu">util</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="fu">sub_main</span><span class="op">(</span>foo <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">sub_main</span> <span class="op">&lt;-</span> <span class="kw">function</span> <span class="op">(</span><span class="va">...</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="fu">util</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="fu">sub_sub_main</span><span class="op">(</span>bar <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">sub_sub_main</span> <span class="op">&lt;-</span> <span class="kw">function</span> <span class="op">(</span><span class="va">...</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="fu">util</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">main</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> foo: 0, bar: 0</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> foo: 1, bar: 0</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> foo: 1, bar: 2</span>
<span class="r-in"><span><span class="co">#&gt; foo: 0, bar: 0</span></span></span>
<span class="r-in"><span><span class="co">#&gt; foo: 1, bar: 0</span></span></span>
<span class="r-in"><span><span class="co">#&gt; foo: 0, bar: 2</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Stas Vlasov.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

